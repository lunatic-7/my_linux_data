import{c as N,j as e,B as h,a as x,r as f}from"./index-CqBSiGE8.js";import{P as D,C as T,M as I,a as z}from"./react-icons.esm-CaexLUuw.js";import{I as b}from"./input-De-JMBND.js";import{B as m}from"./badge-Ch18HJ6q.js";import{g as M,h as S,i as V,j as A,k as w,l as C,m as E,X as R}from"./command-B1KSYKdO.js";import{P as $,a as B,b as L}from"./popover-D7oFvczL.js";import{S as j}from"./separator-BbMghdJ2.js";import{D as P,a0 as _,b as q,i as H,j as G,a1 as O,T as U,L as X,N as J}from"./confirm-dialog-Byx__39j.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],oe=N("trash-2",K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ie=N("triangle-alert",Q);function W({column:t,title:r,options:l}){const d=t?.getFacetedUniqueValues(),a=new Set(t?.getFilterValue());return e.jsxs($,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[e.jsx(D,{className:"size-4"}),r,a?.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(j,{orientation:"vertical",className:"mx-2 h-4"}),e.jsx(m,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:a.size}),e.jsx("div",{className:"hidden space-x-1 lg:flex",children:a.size>2?e.jsxs(m,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[a.size," selected"]}):l.filter(s=>a.has(s.value)).map(s=>e.jsx(m,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:s.label},s.value))})]})]})}),e.jsx(L,{className:"w-[200px] p-0",align:"start",children:e.jsxs(M,{children:[e.jsx(S,{placeholder:r}),e.jsxs(V,{children:[e.jsx(A,{children:"No results found."}),e.jsx(w,{children:l.map(s=>{const c=a.has(s.value);return e.jsxs(C,{onSelect:()=>{c?a.delete(s.value):a.add(s.value);const u=Array.from(a);t?.setFilterValue(u.length?u:void 0)},children:[e.jsx("div",{className:x("border-primary flex size-4 items-center justify-center rounded-sm border",c?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(T,{className:x("text-background h-4 w-4")})}),s.icon&&e.jsx(s.icon,{className:"text-muted-foreground size-4"}),e.jsx("span",{children:s.label}),d?.get(s.value)&&e.jsx("span",{className:"ms-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:d.get(s.value)})]},s.value)})}),a.size>0&&e.jsxs(e.Fragment,{children:[e.jsx(E,{}),e.jsx(w,{children:e.jsx(C,{onSelect:()=>t?.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function Y({table:t}){return e.jsxs(P,{modal:!1,children:[e.jsx(_,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",className:"ms-auto hidden h-8 lg:flex",children:[e.jsx(I,{className:"size-4"}),"View"]})}),e.jsxs(q,{align:"end",className:"w-[150px]",children:[e.jsx(H,{children:"Toggle columns"}),e.jsx(G,{}),t.getAllColumns().filter(r=>typeof r.accessorFn<"u"&&r.getCanHide()).map(r=>e.jsx(O,{className:"capitalize",checked:r.getIsVisible(),onCheckedChange:l=>r.toggleVisibility(!!l),children:r.id},r.id))]})]})}function ce({table:t,searchPlaceholder:r="Filter...",searchKey:l,filters:d=[]}){const a=t.getState().columnFilters.length>0||t.getState().globalFilter;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 flex-col-reverse items-start gap-y-2 sm:flex-row sm:items-center sm:space-x-2",children:[l?e.jsx(b,{placeholder:r,value:t.getColumn(l)?.getFilterValue()??"",onChange:s=>t.getColumn(l)?.setFilterValue(s.target.value),className:"h-8 w-[150px] lg:w-[250px]"}):e.jsx(b,{placeholder:r,value:t.getState().globalFilter??"",onChange:s=>t.setGlobalFilter(s.target.value),className:"h-8 w-[150px] lg:w-[250px]"}),e.jsx("div",{className:"flex gap-x-2",children:d.map(s=>{const c=t.getColumn(s.columnId);return c?e.jsx(W,{column:c,title:s.title,options:s.options},s.columnId):null})}),a&&e.jsxs(h,{variant:"ghost",onClick:()=>{t.resetColumnFilters(),t.setGlobalFilter("")},className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(z,{className:"ms-2 h-4 w-4"})]})]}),e.jsx(Y,{table:t})]})}function de({table:t,entityName:r,children:l}){const a=t.getFilteredSelectedRowModel().rows.length,s=f.useRef(null),[c,u]=f.useState("");f.useEffect(()=>{if(a>0){const o=`${a} ${r}${a>1?"s":""} selected. Bulk actions toolbar is available.`;queueMicrotask(()=>{u(o)});const n=setTimeout(()=>u(""),3e3);return()=>clearTimeout(n)}},[a,r]);const v=()=>{t.resetRowSelection()},k=o=>{const n=s.current?.querySelectorAll("button");if(!n)return;const p=Array.from(n).findIndex(i=>i===document.activeElement);switch(o.key){case"ArrowRight":{o.preventDefault();const i=(p+1)%n.length;n[i]?.focus();break}case"ArrowLeft":{o.preventDefault();const i=p===0?n.length-1:p-1;n[i]?.focus();break}case"Home":o.preventDefault(),n[0]?.focus();break;case"End":o.preventDefault(),n[n.length-1]?.focus();break;case"Escape":{const i=o.target,g=document.activeElement,y=i?.getAttribute("data-slot")==="dropdown-menu-trigger"||g?.getAttribute("data-slot")==="dropdown-menu-trigger"||i?.closest('[data-slot="dropdown-menu-trigger"]')||g?.closest('[data-slot="dropdown-menu-trigger"]'),F=g?.closest('[data-slot="dropdown-menu-content"]')||i?.closest('[data-slot="dropdown-menu-content"]');if(y||F)return;o.preventDefault(),v();break}}};return a===0?null:e.jsxs(e.Fragment,{children:[e.jsx("div",{"aria-live":"polite","aria-atomic":"true",className:"sr-only",role:"status",children:c}),e.jsx("div",{ref:s,role:"toolbar","aria-label":`Bulk actions for ${a} selected ${r}${a>1?"s":""}`,"aria-describedby":"bulk-actions-description",tabIndex:-1,onKeyDown:k,className:x("fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-xl","transition-all delay-100 duration-300 ease-out hover:scale-105","focus-visible:ring-ring/50 focus-visible:ring-2 focus-visible:outline-none"),children:e.jsxs("div",{className:x("p-2 shadow-xl","rounded-xl border","bg-background/95 supports-[backdrop-filter]:bg-background/60 backdrop-blur-lg","flex items-center gap-x-2"),children:[e.jsxs(U,{children:[e.jsx(X,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"icon",onClick:v,className:"size-6 rounded-full","aria-label":"Clear selection",title:"Clear selection (Escape)",children:[e.jsx(R,{}),e.jsx("span",{className:"sr-only",children:"Clear selection"})]})}),e.jsx(J,{children:e.jsx("p",{children:"Clear selection (Escape)"})})]}),e.jsx(j,{className:"h-5",orientation:"vertical","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center gap-x-1 text-sm",id:"bulk-actions-description",children:[e.jsx(m,{variant:"default",className:"min-w-8 rounded-lg","aria-label":`${a} selected`,children:a})," ",e.jsxs("span",{className:"hidden sm:inline",children:[r,a>1?"s":""]})," ","selected"]}),e.jsx(j,{className:"h-5",orientation:"vertical","aria-hidden":"true"}),l]})})]})}export{de as D,ie as T,oe as a,ce as b};
