import{c as G,j as e,B as F,r as f,q as J,a as N,o as W,D as X,s as p,v as B}from"./index-CqBSiGE8.js";import{H as Q,S as Y}from"./search-Bv1_Yu1Y.js";import{M as Z}from"./main-CPLZTjL2.js";import{P as ee}from"./profile-dropdown-BxoZ_vsJ.js";import{T as se}from"./theme-switch-Bvpa2D3Z.js";import{o as x,D as y,u as ae,a as te,g as le,b as ne,c as oe,d as re,e as ce,f as ie,T as de,h as me,i as R,j as pe,k as A,l as xe,m as V,n as he,S as ue}from"./chunk-3WUZ46N3-DQcFl45n.js";import{C as I}from"./checkbox-CYk9f4_R.js";import{B as k}from"./badge-Ch18HJ6q.js";import{D as ge,a as je,b as fe,c as S,j as Ce,n as be}from"./confirm-dialog-Byx__39j.js";import{A as ye,a as Ne,b as we}from"./sign-out-dialog--hLUyWjy.js";import{u as Se,a as ve,F as De,b as h,c as u,d as g,e as v,f as j}from"./form-DfVKCfkH.js";import{s as Fe}from"./show-submitted-data-BLw7U5Xm.js";import{X as Re,g as ke,h as Me,i as Pe,j as Te,k as Ae,l as Ve,D as Ie,a as Ee,b as He,c as Oe,d as Be,e as Ue}from"./command-B1KSYKdO.js";import{I as D}from"./input-De-JMBND.js";import{P as Ke,a as Le,b as _e}from"./popover-D7oFvczL.js";import{C as qe}from"./chevron-down-CWzsySfH.js";import{C as ze}from"./check-Ca_FdS_Y.js";import{U as $e}from"./user-plus-BgsCEPt_.js";import"./separator-BbMghdJ2.js";import"./index-BLk99ZnO.js";import"./select-tKkX4fTy.js";import"./index-BSnzOFm9.js";import"./index-Btd7eH2Y.js";import"./index-aL0ZKMbb.js";import"./index-Db5vSXWZ.js";import"./index-uVvFf3k5.js";import"./index-BpyUFihG.js";import"./react-icons.esm-CaexLUuw.js";import"./index-B3wLPj3P.js";import"./index-CsRHURXs.js";import"./index-nft4NmI0.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Je=G("ellipsis",Ge),We=Array.from({length:100},(s,a)=>({id:`contact-${a+1}`,name:x.person.fullName(),email:x.internet.email(),address:x.location.streetAddress(),mobile:x.phone.number(),type:x.helpers.arrayElement(["individual","business"]),tags:x.helpers.arrayElements(["work","friend","family","client"],{min:1,max:3})}));function Xe({row:s}){return e.jsxs(ge,{children:[e.jsx(je,{asChild:!0,children:e.jsxs(F,{variant:"ghost",className:"flex h-8 w-8 p-0 data-[state=open]:bg-muted",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Open menu"})]})}),e.jsxs(fe,{align:"end",className:"w-[160px]",children:[e.jsx(S,{children:"Edit"}),e.jsx(S,{children:"Make a copy"}),e.jsx(S,{children:"Favorite"}),e.jsx(Ce,{}),e.jsx(S,{children:"Delete"})]})]})}const E=[{id:"select",header:({table:s})=>e.jsx(I,{checked:s.getIsAllPageRowsSelected(),onCheckedChange:a=>s.toggleAllPageRowsSelected(!!a),"aria-label":"Select all"}),cell:({row:s})=>e.jsx(I,{checked:s.getIsSelected(),onCheckedChange:a=>s.toggleSelected(!!a),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:({column:s})=>e.jsx(y,{column:s,title:"Name"}),cell:({row:s})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(ye,{className:"w-8 h-8",children:[e.jsx(Ne,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${s.original.name}`,alt:s.original.name}),e.jsx(we,{children:s.original.name.slice(0,2)})]}),e.jsx("span",{children:s.getValue("name")})]})},{accessorKey:"address",header:({column:s})=>e.jsx(y,{column:s,title:"Address"})},{accessorKey:"email",header:({column:s})=>e.jsx(y,{column:s,title:"Email"})},{accessorKey:"mobile",header:"Mobile"},{accessorKey:"type",header:({column:s})=>e.jsx(y,{column:s,title:"Type"}),cell:({row:s})=>{const a=s.getValue("type");return e.jsx(k,{variant:"secondary",children:a.charAt(0).toUpperCase()+a.slice(1)})}},{accessorKey:"tags",header:({column:s})=>e.jsx(y,{column:s,title:"Tags"}),cell:({row:s})=>{const a=s.getValue("tags"),n="bg-sky-200/40 text-sky-900 dark:text-sky-100 border-sky-300";return e.jsx("div",{className:"flex flex-wrap gap-1",children:a.map(o=>e.jsx(k,{className:n,children:o},o))})}},{id:"actions",cell:({row:s})=>e.jsx(Xe,{row:s})}],H=J("/_authenticated/contacts/");function Qe({data:s}){const[a,n]=f.useState({}),[o,l]=f.useState([]),[m,t]=f.useState({}),{globalFilter:w,onGlobalFilterChange:r,columnFilters:C,onColumnFiltersChange:d,pagination:L,onPaginationChange:_,ensurePageInRange:M}=ae({search:H.useSearch(),navigate:H.useNavigate(),pagination:{defaultPage:1,defaultPageSize:10},globalFilter:{enabled:!0,key:"filter"}}),b=te({data:s,columns:E,state:{sorting:o,columnVisibility:m,rowSelection:a,columnFilters:C,globalFilter:w,pagination:L},enableRowSelection:!0,onRowSelectionChange:n,onSortingChange:l,onColumnVisibilityChange:t,globalFilterFn:(i,c,q)=>{const z=String(i.getValue("name")).toLowerCase(),$=String(i.getValue("email")).toLowerCase(),T=String(q).toLowerCase();return z.includes(T)||$.includes(T)},getCoreRowModel:ie(),getFilteredRowModel:ce(),getPaginationRowModel:re(),getSortedRowModel:oe(),getFacetedRowModel:ne(),getFacetedUniqueValues:le(),onPaginationChange:_,onGlobalFilterChange:r,onColumnFiltersChange:d}),P=b.getPageCount();return f.useEffect(()=>{M(P)},[P,M]),e.jsxs("div",{className:N('max-sm:has-[div[role="toolbar"]]:mb-16',"flex flex-1 flex-col gap-4"),children:[e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsxs(de,{children:[e.jsx(me,{children:b.getHeaderGroups().map(i=>e.jsx(R,{children:i.headers.map(c=>e.jsx(pe,{colSpan:c.colSpan,className:N(c.column.columnDef.meta?.className,c.column.columnDef.meta?.thClassName),children:c.isPlaceholder?null:A(c.column.columnDef.header,c.getContext())},c.id))},i.id))}),e.jsx(xe,{children:b.getRowModel().rows?.length?b.getRowModel().rows.map(i=>e.jsx(R,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(c=>e.jsx(V,{className:N(c.column.columnDef.meta?.className,c.column.columnDef.meta?.tdClassName),children:A(c.column.columnDef.cell,c.getContext())},c.id))},i.id)):e.jsx(R,{children:e.jsx(V,{colSpan:E.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(he,{table:b,className:"mt-auto"})]})}function Ye({options:s,selected:a,onChange:n,className:o,placeholder:l="Select options..."}){const[m,t]=f.useState(!1),w=r=>{const C=a.includes(r)?a.filter(d=>d!==r):[...a,r];n(C)};return e.jsxs(Ke,{open:m,onOpenChange:t,children:[e.jsx(Le,{asChild:!0,children:e.jsxs(F,{variant:"outline",role:"combobox","aria-expanded":m,className:N("w-full justify-between",o),children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:a.length>0?a.map(r=>{const C=s.find(d=>d.value===r);return e.jsxs(k,{variant:"secondary",className:"flex items-center gap-1",children:[C?.label,e.jsx(Re,{className:"h-3 w-3 cursor-pointer",onClick:d=>{d.stopPropagation(),w(r)}})]},r)}):e.jsx("span",{className:"text-muted-foreground",children:l})}),e.jsx(qe,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(_e,{className:"w-[--radix-popover-trigger-width] p-0",children:e.jsxs(ke,{children:[e.jsx(Me,{placeholder:"Search options..."}),e.jsxs(Pe,{children:[e.jsx(Te,{children:"No options found."}),e.jsx(Ae,{children:s.map(r=>e.jsxs(Ve,{onSelect:()=>w(r.value),children:[e.jsx(ze,{className:N("mr-2 h-4 w-4",a.includes(r.value)?"opacity-100":"opacity-0")}),r.label]},r.value))})]})]})})]})}const Ze=W({name:p().min(1,"Name is required."),address:p().optional(),email:p().email(),mobile:p().min(1,"Phone is required."),type:p().optional(),tags:X(p()).optional()});function O({currentRow:s,open:a,onOpenChange:n}){const o=!!s,l=Se({resolver:ve(Ze),defaultValues:o?{...s}:{name:"",email:"",address:"",mobile:"",type:"individual",tags:[]}}),m=t=>{l.reset(),Fe(t),n(!1)};return e.jsx(Ie,{open:a,onOpenChange:t=>{l.reset(),n(t)},children:e.jsxs(Ee,{className:"sm:max-w-lg",children:[e.jsxs(He,{className:"text-start",children:[e.jsx(Oe,{children:o?"Edit Contact":"Add New Contact"}),e.jsxs(Be,{children:[o?"Update the contact here. ":"Create new contact here. ","Click save when you're done."]})]}),e.jsx("div",{className:"h-[26.25rem] w-[calc(100%+0.75rem)] overflow-y-auto py-1 pe-3",children:e.jsx(De,{...l,children:e.jsxs("form",{id:"contact-form",onSubmit:l.handleSubmit(m),className:"space-y-4 px-0.5",children:[e.jsx(h,{control:l.control,name:"name",render:({field:t})=>e.jsxs(u,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(g,{className:"col-span-2 text-end",children:"Name"}),e.jsx(v,{children:e.jsx(D,{placeholder:"John Doe",className:"col-span-4",autoComplete:"off",...t})}),e.jsx(j,{className:"col-span-4 col-start-3"})]})}),e.jsx(h,{control:l.control,name:"address",render:({field:t})=>e.jsxs(u,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(g,{className:"col-span-2 text-end",children:"Address"}),e.jsx(v,{children:e.jsx(D,{placeholder:"123 Main St, City, Country",className:"col-span-4",...t})}),e.jsx(j,{className:"col-span-4 col-start-3"})]})}),e.jsx(h,{control:l.control,name:"email",render:({field:t})=>e.jsxs(u,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(g,{className:"col-span-2 text-end",children:"Email"}),e.jsx(v,{children:e.jsx(D,{placeholder:"john.doe@example.com",className:"col-span-4",...t})}),e.jsx(j,{className:"col-span-4 col-start-3"})]})}),e.jsx(h,{control:l.control,name:"mobile",render:({field:t})=>e.jsxs(u,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(g,{className:"col-span-2 text-end",children:"Phone"}),e.jsx(v,{children:e.jsx(D,{placeholder:"+1234567890",className:"col-span-4",...t})}),e.jsx(j,{className:"col-span-4 col-start-3"})]})}),e.jsx(h,{control:l.control,name:"type",render:({field:t})=>e.jsxs(u,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(g,{className:"col-span-2 text-end",children:"Type"}),e.jsx(ue,{defaultValue:t.value,onValueChange:t.onChange,placeholder:"Select contact type",className:"col-span-4",items:[{label:"Individual",value:"individual"},{label:"Business",value:"business"}]}),e.jsx(j,{className:"col-span-4 col-start-3"})]})}),e.jsx(h,{control:l.control,name:"tags",render:({field:t})=>e.jsxs(u,{className:"grid grid-cols-6 items-center space-y-0 gap-x-4 gap-y-1",children:[e.jsx(g,{className:"col-span-2 text-end",children:"Tags"}),e.jsx(Ye,{options:[{label:"Work",value:"work"},{label:"Friend",value:"friend"},{label:"Family",value:"family"},{label:"Client",value:"client"}],selected:t.value||[],onChange:t.onChange,placeholder:"Select tags",className:"col-span-4"}),e.jsx(j,{className:"col-span-4 col-start-3"})]})})]})})}),e.jsx(Ue,{children:e.jsx(F,{type:"submit",form:"contact-form",children:"Save changes"})})]})})}const U=B.createContext(null);function es({children:s}){const[a,n]=be(null),[o,l]=f.useState(null);return e.jsx(U.Provider,{value:{open:a,setOpen:n,currentRow:o,setCurrentRow:l},children:s})}const K=()=>{const s=B.useContext(U);if(!s)throw new Error("useContacts has to be used within <ContactsContext>");return s};function ss(){const{open:s,setOpen:a,currentRow:n,setCurrentRow:o}=K();return e.jsxs(e.Fragment,{children:[e.jsx(O,{open:s==="add",onOpenChange:()=>a(null)},"contact-add"),n&&e.jsx(e.Fragment,{children:e.jsx(O,{open:s==="edit",onOpenChange:()=>{a(null),setTimeout(()=>{o(null)},500)},currentRow:n},`contact-edit-${n.id}`)})]})}function as(){const{setOpen:s}=K();return e.jsx("div",{className:"flex gap-2",children:e.jsxs(F,{className:"space-x-1",onClick:()=>s("add"),children:[e.jsx("span",{children:"Add Contact"})," ",e.jsx($e,{size:18})]})})}function ts(){return e.jsxs(es,{children:[e.jsxs(Q,{fixed:!0,children:[e.jsx(Y,{}),e.jsxs("div",{className:"ms-auto flex items-center space-x-4",children:[e.jsx(se,{}),e.jsx(ee,{})]})]}),e.jsxs(Z,{className:"flex flex-1 flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex flex-wrap items-end justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Contacts"}),e.jsx("p",{className:"text-muted-foreground",children:"Here's a list of your contacts."})]}),e.jsx(as,{})]}),e.jsx(Qe,{data:We}),e.jsx(ss,{})]})]})}const Is=ts;export{Is as component};
